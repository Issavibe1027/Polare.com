<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Polare</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&family=Space+Mono&display=swap" rel="stylesheet" />

<style>
  :root { --bg:#fff; --fg:#000; }
  html,body{
    margin:0;padding:0;
    background:var(--bg);color:var(--fg);
    font-family:'Cormorant Garamond',serif;
    overflow-x:hidden;
    scroll-behavior:smooth;
  }

  h1,h2{font-family:'Space Mono',monospace;letter-spacing:-0.02em;}

  /* --- Cover Page --- */
  header{
    text-align:center;
    padding:25vh 2rem;
    z-index:5;
    position:relative;
    min-height:100vh;
  }
  header h1{
    font-size:5rem;
    margin:0;
  }
  nav{
    margin-top:2rem;
  }
  nav a{
    color:var(--fg);
    text-decoration:none;
    margin:0 1rem;
    font-family:'Space Mono',monospace;
    font-size:1.1rem;
  }
  nav a:hover{text-decoration:underline;}

  /* --- Abstract Body --- */
  section{
    max-width:900px;
    margin:5rem auto;
    padding:2rem;
    border:1px solid #000;
    background:rgba(255,255,255,0.7);
    backdrop-filter:blur(5px);
    border-radius:6px;
    position:relative;
    z-index:5;
    transition:transform .3s ease;
  }
  section:hover{transform:translateY(-5px);box-shadow:0 0 20px rgba(0,0,0,.1);}
  h2{border-bottom:2px solid var(--fg);padding-bottom:.4rem;}
  p{line-height:1.6;}
  [contenteditable="true"]:focus{outline:2px dashed #000;outline-offset:4px;}

  /* --- Background Animation --- */
  .bg-abstract{
    position:fixed;inset:0;z-index:0;overflow:hidden;
  }
  .shape{
    position:absolute;
    background:var(--fg);
    opacity:.06;
    border-radius:50%;
    animation:float 30s infinite ease-in-out;
  }
  .shape:nth-child(1){width:300px;height:300px;top:15%;left:10%;animation-duration:40s;}
  .shape:nth-child(2){width:200px;height:200px;top:70%;left:75%;animation-duration:25s;}
  .shape:nth-child(3){width:400px;height:400px;top:40%;left:50%;
    border-radius:0;transform:rotate(45deg);opacity:.04;animation-duration:60s;}
  @keyframes float{
    0%{transform:translateY(0) rotate(0deg);}
    50%{transform:translateY(-50px) rotate(180deg);}
    100%{transform:translateY(0) rotate(360deg);}
  }

  /* --- Buttons --- */
  .upload-btn{
    display:inline-block;
    margin-top:10px;
    background:#000;
    color:#fff;
    border:none;
    border-radius:6px;
    padding:6px 12px;
    cursor:pointer;
    font-size:.9rem;
  }
  .upload-btn:hover{opacity:.8;}

  .photo-container img{
    width:100%;
    margin-top:10px;
    border-radius:4px;
    filter:grayscale(1) contrast(1.2);
  }

  #saveBtn,#resetBtn{
    display:block;
    margin:2rem auto;
    padding:10px 20px;
    background:#000;
    border:none;
    border-radius:6px;
    color:#fff;
    font-size:1.1rem;
    cursor:pointer;
    font-family:'Space Mono',monospace;
  }
  #resetBtn{background:#444;}
  #saveBtn:hover,#resetBtn:hover{opacity:.8;}
</style>
</head>

<body>
<div class="bg-abstract">
  <div class="shape"></div><div class="shape"></div><div class="shape"></div>
</div>

<!-- --- Cover Page --- -->
<header>
  <h1 contenteditable="true">POLARE</h1>
  <nav>
    <a href="#essays">Essays</a>
    <a href="#film">Film & Research Analysis</a>
    <a href="#theories">Theories</a>
    <a href="#about">About</a>
  </nav>
</header>

<!-- --- Editable Body --- -->
<main id="editable-content">

<section id="essays" contenteditable="true">
  <h2>Essays</h2>
  <p>Here you can explore written reflections â€” abstract, critical, and narrative essays woven through thought and imagination.</p>
  <div class="photo-container"></div>
  <input type="file" accept="image/*" class="upload-btn" onchange="addPhoto(event,this)">
</section>

<section id="film" contenteditable="true">
  <h2>Film & Research Analysis</h2>
  <p>In this section, ideas from cinema, art, and academia intersect. You can upload visuals, research notes, or analyses.</p>
  <div class="photo-container"></div>
  <input type="file" accept="image/*" class="upload-btn" onchange="addPhoto(event,this)">
</section>

<section id="theories" contenteditable="true">
  <h2>Theories</h2>
  <p>Conceptual frameworks, abstract thought, and experimental structures live here. Edit, write, or imagine freely.</p>
  <div class="photo-container"></div>
  <input type="file" accept="image/*" class="upload-btn" onchange="addPhoto(event,this)">
</section>

<section id="about" contenteditable="true">
  <h2>About</h2>
  <p>Polare exists as an exploration of perception â€” stories, theories, and analyses merging in black and white abstraction.</p>
  <div class="photo-container"></div>
  <input type="file" accept="image/*" class="upload-btn" onchange="addPhoto(event,this)">
</section>

</main>

<button id="saveBtn">ðŸ’¾ Save Changes</button>
<button id="resetBtn">â†© Reset to Original</button>

<script>
/* ---- Image Upload ---- */
function addPhoto(event,input){
  const file=event.target.files[0];
  if(!file)return;
  const reader=new FileReader();
  reader.onload=e=>{
    const img=document.createElement('img');
    img.src=e.target.result;
    img.alt='Uploaded image';
    input.previousElementSibling.appendChild(img);
    autoSave();
  };
  reader.readAsDataURL(file);
}

/* ---- Local Save / Restore ---- */
function autoSave(){
  const content=document.getElementById('editable-content').innerHTML;
  localStorage.setItem('polare-site',content);
}

function restore(){
  const saved=localStorage.getItem('polare-site');
  if(saved){
    document.getElementById('editable-content').innerHTML=saved;
    rebind();
  }
}

/* ---- Reset All ---- */
function resetAll(){
  if(confirm("Reset to original content? This will delete local edits.")){
    localStorage.removeItem('polare-site');
    location.reload();
  }
}

/* ---- Download Version ---- */
function manualDownload(){
  const content=document.documentElement.outerHTML;
  const blob=new Blob([content],{type:'text/html'});
  const a=document.createElement('a');
  a.href=URL.createObjectURL(blob);
  a.download='PolareWebsite.html';
  a.click();
}

/* ---- Rebind ---- */
function rebind(){
  document.querySelectorAll('.upload-btn').forEach(btn=>{
    btn.onchange=(e)=>addPhoto(e,btn);
  });
  document.getElementById('saveBtn').onclick=()=>{autoSave();alert('âœ… Changes saved in browser.');};
  document.getElementById('resetBtn').onclick=resetAll;
}

/* ---- Initialize ---- */
window.addEventListener('load',()=>{
  restore();
  rebind();
  document.addEventListener('input',()=>{clearTimeout(window._t);window._t=setTimeout(autoSave,800);});
});
</script>
</body>
</html>
